---
description: "管理器"
---

# 管理器

该模块用于管理 `Eric` 的各个组件，包括模块安装以及配置更改。

## tldr

| 命令                                         | 说明                        | 需求最低权限 |
|:-------------------------------------------|:--------------------------|:-------|
| `.manager register`                        | 注册一个新的 `EricPlugins` 仓库   | 机器人所有人 |
| `.manager update`                          | 更新已注册的 `EricPlugins` 仓库缓存 | 机器人所有人 |
| `.manager install [-y] <name> <name> ...`  | 安装一个或多个模块                 | 机器人所有人 |
| `.manager upgrade [-y]`                    | 更新所有模块                    | 机器人所有人 |
| `.manager enable <name> <name> ...`        | 启用一个或多个模块                 | 群管理员   |
| `.manager disable <name> <name> ...`       | 禁用一个或多个模块                 | 群管理员   |
| `.manager unload <name> <name> ...`        | 卸载一个或多个模块                 | 机器人所有人 |
| `.manager config get <name>`               | 获取一个聊天区域内的模块配置            | 群管理员   |
| `.manager config set <name> <key> <value>` | 设置一个聊天区域内的模块的配置           | 群管理员   |
| `打开模块 <name> <name> ...`                   | 启用一个或多个模块                 | 群管理员   |
| `关闭模块 <name> <name> ...`                   | 禁用一个或多个模块                 | 群管理员   |

## 注册仓库

由于 Eric 并无中心化的模块仓库，因此你需要手动注册模块仓库。

你可以 [在 Github 上搜索](https://github.com/search?q=EricPlugins) 可用的模块仓库。

随后，你可以在群里或私聊中输入 `.manager register` 并按照指引注册一个模块仓库。

## 更新仓库缓存

当你注册了一个模块仓库后，你需要更新仓库缓存以获取模块列表。

你可以在群里或私聊中输入 `.manager update` 更新仓库缓存。

该操作同时会检查所有模块的更新情况。

??? question "为什么需要先更新仓库缓存"

    问就是抄了 `apt`。

## 安装模块

当你注册了模块仓库并更新了仓库缓存后，你可以安装模块。

你可以在群里或私聊中输入 `.manager install [-y] <name> <name> ...` 安装一个或多个模块。

| 参数       | 说明   |
|:---------|:-----|
| `-y`     | 跳过确认 |
| `<name>` | 模块名称 |

## 更新模块

当你安装了模块后，远端模块仓库可能会更新模块，在更新缓存后，你可以更新模块。

你可以在群里或私聊中输入 `.manager upgrade [-y]` 更新所有模块。

| 参数   | 说明   |
|:-----|:-----|
| `-y` | 跳过确认 |

## 启用模块

当你安装了模块后，你可以启用模块。

你可以在群里或私聊中输入 `.manager enable <name> <name> ...` 启用一个或多个模块。

你也可以在群里输入 `打开模块 <name> <name> ...` 启用一个或多个模块。

| 参数       | 说明      |
|:---------|:--------|
| `<name>` | 模块名称或包名 |

## 禁用模块

你可以禁用已启用的模块。

你可以在群里或私聊中输入 `.manager disable <name> <name> ...` 禁用一个或多个模块。

你也可以在群里输入 `关闭模块 <name> <name> ...` 禁用一个或多个模块。

| 参数       | 说明      |
|:---------|:--------|
| `<name>` | 模块名称或包名 |

## 卸载模块

你可以卸载已加载的模块。

你可以在群里或私聊中输入 `.manager unload <name> <name> ...` 卸载一个或多个模块。

| 参数       | 说明      |
|:---------|:--------|
| `<name>` | 模块名称或包名 |

!!! warning "卸载模块并非删除模块"

    卸载模块只是从已注册的监听器中移除模块，而不会删除模块。

## 获取一个聊天区域内的模块配置

### 仅获取当前聊天区域

你可以在群里或私聊中输入 `.manager config get <name>` 获取当前聊天区域内的模块配置。

| 参数       | 说明      |
|:---------|:--------|
| `<name>` | 模块名称或包名 |

| 聊天区域  | 需求权限   |
|:------|:-------|
| 0     | 机器人所有人 |
| 其他    | 群组管理员  |

### 获取任意聊天区域

你可以在群里或私聊中输入 `.manager config get \[-g|--group {group_id}] <name>` 获取任意聊天区域内的模块配置。

| 参数             | 说明      | 默认值 |
|:---------------|:--------|:----|
| `-g` `--group` | 指定群组 ID | 0   |
